function loadPosts(t,i){let n=Array(t.length).fill(null),r=0;return t.forEach((o,l)=>{fetch(o).then(t=>{if(t.ok)return t.text();throw new Error("Failed to load post: "+o)}).then(t=>{let o=(new DOMParser).parseFromString(t,"text/html");var t=$(o).find("h2").prop("outerHTML")||"<h2>Brak tytułu</h2>",r=$(o).find(".post-date").prop("outerHTML")||'<p class="post-date"><strong>Data publikacji:</strong> Nieznana</p>',a=$(o).find("img").prop("outerHTML")||"<p>Brak obrazka</p>",e=$(o).find("section p").first().prop("outerHTML")||"<p>Brak treści</p>",t=$('<article class="post-article">').html(""+t+r+a+`<div class="post-content">${e}</div><button class="read-more">Czytaj więcej <i class="bi bi-file-earmark-post"></i></button>`);t.find(".read-more").on("click",function(t){t.preventDefault(),i.html($(o.body).html()),i.append('<button class="back-to-blog">Powrót do bloga <i class="bi bi-arrow-counterclockwise"></i></button>'),$(".back-to-blog").on("click",function(){location.reload()})}),n[l]=t}).catch(t=>{console.error("Error loading post:",t);t=$('<article class="post-article">').html(`<h2>Błąd</h2><p>Nie udało się załadować posta: ${o}</p>`);n[l]=t}).finally(()=>{++r===t.length&&n.reverse().forEach(t=>i.append(t))})}),Promise.resolve(n)}export default loadPosts;
//# sourceMappingURL=post-loader.js.map
