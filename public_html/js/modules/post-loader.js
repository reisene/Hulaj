function loadPosts(t,l){let n=Array(t.length).fill(null),o=0;return t.forEach((a,i)=>{fetch(a).then(t=>{if(t.ok)return t.text();throw new Error("Failed to load post: "+a)}).then(t=>{let a=(new DOMParser).parseFromString(t,"text/html");var t=$(a).find("h2").text()||"Brak tytułu",o=$(a).find(".post-date").text()||"Data publikacji: Nieznana",e=$(a).find("img").attr("src"),e=e?`<img src="${e}" alt="Post Image">`:"<p>Brak obrazka</p>",r=$(a).find("section p").first().text()||"Brak treści",t=$('<article class="post-article">').append(`<h2>${t}</h2>`).append(`<p class="post-date"><strong>Data publikacji:</strong> ${o}</p>`).append(e).append(`<div class="post-content"><p>${r}</p></div>`).append('<button class="read-more">Czytaj więcej <i class="bi bi-file-earmark-post"></i></button>');t.find(".read-more").on("click",function(t){t.preventDefault(),l.html($(a.body).html()),l.append('<button class="back-to-blog">Powrót do bloga <i class="bi bi-arrow-counterclockwise"></i></button>'),$(".back-to-blog").on("click",function(){location.reload()})}),n[i]=t}).catch(t=>{console.error("Error loading post:",t);t=$('<article class="post-article">').html(`<h2>Błąd</h2><p>Nie udało się załadować posta: ${a}</p>`);n[i]=t}).finally(()=>{++o===t.length&&n.reverse().forEach(t=>l.append(t))})}),Promise.resolve(n)}export default loadPosts;
//# sourceMappingURL=post-loader.js.map
