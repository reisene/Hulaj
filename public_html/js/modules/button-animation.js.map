{"version":3,"file":"button-animation.js","sources":["modules/button-animation.js"],"sourcesContent":["/**\n * @description Initializes animations for a form submission button. It animates the\n * button's state when clicked, submits a request, and resets to its original state\n * upon completion or error.\n *\n * @returns {any} An object containing two properties: animateButton and resetButton.\n */\nfunction initButtonAnimation() {\n    const formButton = document.getElementById('my-form-button');\n\n    /**\n     * @description Modifies a UI element's appearance to indicate loading state,\n     * specifically a button and its icon. It hides a plane icon, adds a spinner icon,\n     * and applies a 'loading' class to change the button's style, effectively animating\n     * it into a loading state.\n     */\n    function animateLoading() {\n        formButton.classList.remove('submit')\n        formButton.classList.add('loading');\n        formButton.querySelector('.fa-paper-plane').classList.add('hidden');\n        formButton.querySelector('.fa-spinner').classList.remove('hidden');\n    }\n\n    /**\n     * @description Animates a button based on its type, adding a CSS class to change its\n     * appearance and removing hidden classes from specific icons. It handles two types:\n     * 'success' and 'error', changing the visible icon accordingly.\n     *\n     * @param {string | 'success' | 'error'} type - Used to specify animation types.\n     */\n    function animateButton(type) {\n        if (type === 'success' || type === 'error') {\n            formButton.classList.add(type);\n            if (type === 'success') {\n                formButton.querySelector('.fa-check').classList.remove('hidden');\n            } else {\n                formButton.querySelector('.fa-times').classList.remove('hidden');\n            }\n            formButton.querySelector('.fa-spinner').classList.add('hidden');\n        } \n    }\n    \n    /**\n     * @description Resets a form button to its default state, removing any loading or\n     * status indicators and restoring the initial appearance. It also hides associated\n     * icon elements when applicable.\n     */\n    function resetButton() {\n        if (formButton) {\n            formButton.classList.remove('loading', 'success', 'error');\n            formButton.classList.add('submit');\n            const faCheck = formButton.querySelector('.fa-check');\n            const faTimes = formButton.querySelector('.fa-times');\n            if (faCheck) {\n                faCheck.classList.add('hidden');\n            }\n            if (faTimes) {\n                faTimes.classList.add('hidden');\n            }\n            const faPaperPlane = formButton.querySelector('.fa-paper-plane');\n            faPaperPlane.setAttribute('class', 'svg-inline--fa fa-paper-plane');\n        } else {\n    Sentry.captureException(new Error('formButton is null'), {\n      extra: {\n        foo: 'bar',\n      },\n    });\n  }\n    }\n\n    // Dodaj klasę loading po kliknięciu przycisku\n    formButton.addEventListener('click', animateLoading);\n\n    // Usuń klasę loading po zakończeniu animacji\n    formButton.addEventListener('transitionend', () => {\n        // Handles form button transitions when they end.\n        if (formButton.classList.contains('loading')) {\n            formButton.classList.remove('loading');\n        }\n    });\n\n    return { animateButton, resetButton };\n}\n\nexport default initButtonAnimation;"],"names":["initButtonAnimation","formButton","document","getElementById","addEventListener","classList","remove","add","querySelector","contains","animateButton","type","resetButton","faCheck","faTimes","setAttribute","Sentry","captureException","Error","extra","foo"],"mappings":"AAOA,SAASA,sBACL,IAAMC,EAAaC,SAASC,eAAe,gBAAgB,EAyE3D,OAVAF,EAAWG,iBAAiB,QAvD5B,WACIH,EAAWI,UAAUC,OAAO,QAAQ,EACpCL,EAAWI,UAAUE,IAAI,SAAS,EAClCN,EAAWO,cAAc,iBAAiB,EAAEH,UAAUE,IAAI,QAAQ,EAClEN,EAAWO,cAAc,aAAa,EAAEH,UAAUC,OAAO,QAAQ,CACrE,CAkDmD,EAGnDL,EAAWG,iBAAiB,gBAAiB,KAErCH,EAAWI,UAAUI,SAAS,SAAS,GACvCR,EAAWI,UAAUC,OAAO,SAAS,CAE7C,CAAC,EAEM,CAAEI,cAnDT,SAAuBC,GACN,YAATA,GAA+B,UAATA,IACtBV,EAAWI,UAAUE,IAAII,CAAI,GAChB,YAATA,EACAV,EAAWO,cAAc,WAAW,EAEpCP,EAAWO,cAAc,WAAW,GAFEH,UAAUC,OAAO,QAAQ,EAInEL,EAAWO,cAAc,aAAa,EAAEH,UAAUE,IAAI,QAAQ,EAEtE,EAyCwBK,YAlCxB,WACI,IAGUC,EACAC,EAJNb,GACAA,EAAWI,UAAUC,OAAO,UAAW,UAAW,OAAO,EACzDL,EAAWI,UAAUE,IAAI,QAAQ,EAC3BM,EAAUZ,EAAWO,cAAc,WAAW,EAC9CM,EAAUb,EAAWO,cAAc,WAAW,EAChDK,GACAA,EAAQR,UAAUE,IAAI,QAAQ,EAE9BO,GACAA,EAAQT,UAAUE,IAAI,QAAQ,EAEbN,EAAWO,cAAc,iBAAiB,EAClDO,aAAa,QAAS,+BAA+B,GAE1EC,OAAOC,iBAAiB,IAAIC,MAAM,oBAAoB,EAAG,CACvDC,MAAO,CACLC,IAAK,KACP,CACF,CAAC,CAED,CAaoC,CACxC,gBAEepB"}