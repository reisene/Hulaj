{"version":3,"file":"button-animation.js","sources":["modules/button-animation.js"],"sourcesContent":["    /**\r\n     * @description Initializes animations for a form submission button. It animates the\r\n     * button's state when clicked, submits a request, and resets to its original state\r\n     * upon completion or error.\r\n     *\r\n     * @returns {any} An object containing two properties: animateButton and resetButton.\r\n     */\r\n    function initButtonAnimation() {\r\n        const formButton = document.getElementById('my-form-button');\r\n\r\n        /**\r\n         * @description Modifies a UI element's appearance to indicate loading state,\r\n         * specifically a button and its icon. It hides a plane icon, adds a spinner icon,\r\n         * and applies a 'loading' class to change the button's style, effectively animating\r\n         * it into a loading state.\r\n         */\r\n        function animateLoading() {\r\n            formButton.classList.remove('submit')\r\n            formButton.classList.add('loading');\r\n            formButton.querySelector('.fa-paper-plane').classList.add('hidden');\r\n            formButton.querySelector('.fa-spinner').classList.remove('hidden');\r\n        }\r\n\r\n        /**\r\n         * @description Animates a button based on its type, adding a CSS class to change its\r\n         * appearance and removing hidden classes from specific icons. It handles two types:\r\n         * 'success' and 'error', changing the visible icon accordingly.\r\n         *\r\n         * @param {string | 'success' | 'error'} type - Used to specify animation types.\r\n         */\r\n        function animateButton(type) {\r\n            if (type === 'success' || type === 'error') {\r\n                formButton.classList.add(type);\r\n\r\n                // Resetowanie animacji\r\n                formButton.style.animation = 'none'; // Resetuj animację\r\n                formButton.offsetHeight; // Wymuś reflow\r\n                formButton.style.animation = ''; // Przywróć animację\r\n\r\n                if (type === 'success') {\r\n                    formButton.querySelector('.fa-check').classList.remove('hidden');\r\n                } else {\r\n                    formButton.querySelector('.fa-times').classList.remove('hidden');\r\n                }\r\n                formButton.querySelector('.fa-spinner').classList.add('hidden');\r\n            } \r\n        }\r\n        \r\n        /**\r\n         * @description Resets a form button to its default state, removing any loading or\r\n         * status indicators and restoring the initial appearance. It also hides associated\r\n         * icon elements when applicable.\r\n         */\r\n        function resetButton() {\r\n            if (formButton) {\r\n                formButton.classList.remove('loading', 'success', 'error');\r\n                formButton.classList.add('submit');\r\n                const faCheck = formButton.querySelector('.fa-check');\r\n                const faTimes = formButton.querySelector('.fa-times');\r\n                const faSpinner = formButton.querySelector('.fa-spinner');\r\n                if (faCheck) {\r\n                    faCheck.classList.add('hidden');\r\n                }\r\n                if (faTimes) {\r\n                    faTimes.classList.add('hidden');\r\n                }\r\n                if (faSpinner) {\r\n                    faSpinner.classList.add('hidden');\r\n                }\r\n                const faPaperPlane = formButton.querySelector('.fa-paper-plane');\r\n                faPaperPlane.setAttribute('class', 'svg-inline--fa fa-paper-plane');\r\n            } else {\r\n        Sentry.captureException(new Error('formButton is null'), {\r\n        extra: {\r\n            url: window.location.href,\r\n            referrer: document.referrer,\r\n            userAgent: navigator.userAgent,\r\n            formName: 'kontakt',\r\n            formAction: window.location.href,\r\n            formMethod: 'POST',\r\n        },\r\n        });\r\n    }\r\n        }\r\n\r\n        // Dodaj klasę loading po kliknięciu przycisku\r\n        formButton.addEventListener('click', animateLoading);\r\n\r\n        // Usuń klasę loading po zakończeniu animacji\r\n        formButton.addEventListener('transitionend', () => {\r\n            // Handles form button transitions when they end.\r\n            if (formButton.classList.contains('loading')) {\r\n                formButton.classList.remove('loading');\r\n            }\r\n        });\r\n\r\n        return { animateButton, resetButton };\r\n    }\r\n\r\n    export default initButtonAnimation; // Export the initButtonAnimation function"],"names":["initButtonAnimation","formButton","document","getElementById","addEventListener","classList","remove","add","querySelector","contains","animateButton","type","style","animation","offsetHeight","resetButton","faCheck","faTimes","faSpinner","setAttribute","Sentry","captureException","Error","extra","url","window","location","href","referrer","userAgent","navigator","formName","formAction","formMethod"],"mappings":"AAOI,SAASA,sBACL,IAAMC,EAAaC,SAASC,eAAe,gBAAgB,EAwF3D,OAVAF,EAAWG,iBAAiB,QAtE5B,WACIH,EAAWI,UAAUC,OAAO,QAAQ,EACpCL,EAAWI,UAAUE,IAAI,SAAS,EAClCN,EAAWO,cAAc,iBAAiB,EAAEH,UAAUE,IAAI,QAAQ,EAClEN,EAAWO,cAAc,aAAa,EAAEH,UAAUC,OAAO,QAAQ,CACrE,CAiEmD,EAGnDL,EAAWG,iBAAiB,gBAAiB,KAErCH,EAAWI,UAAUI,SAAS,SAAS,GACvCR,EAAWI,UAAUC,OAAO,SAAS,CAE7C,CAAC,EAEM,CAAEI,cAlET,SAAuBC,GACN,YAATA,GAA+B,UAATA,IACtBV,EAAWI,UAAUE,IAAII,CAAI,EAG7BV,EAAWW,MAAMC,UAAY,OAC7BZ,EAAWa,aACXb,EAAWW,MAAMC,UAAY,IAEhB,YAATF,EACAV,EAAWO,cAAc,WAAW,EAEpCP,EAAWO,cAAc,WAAW,GAFEH,UAAUC,OAAO,QAAQ,EAInEL,EAAWO,cAAc,aAAa,EAAEH,UAAUE,IAAI,QAAQ,EAEtE,EAkDwBQ,YA3CxB,WACI,IAGUC,EACAC,EACAC,EALNjB,GACAA,EAAWI,UAAUC,OAAO,UAAW,UAAW,OAAO,EACzDL,EAAWI,UAAUE,IAAI,QAAQ,EAC3BS,EAAUf,EAAWO,cAAc,WAAW,EAC9CS,EAAUhB,EAAWO,cAAc,WAAW,EAC9CU,EAAYjB,EAAWO,cAAc,aAAa,EACpDQ,GACAA,EAAQX,UAAUE,IAAI,QAAQ,EAE9BU,GACAA,EAAQZ,UAAUE,IAAI,QAAQ,EAE9BW,GACAA,EAAUb,UAAUE,IAAI,QAAQ,EAEfN,EAAWO,cAAc,iBAAiB,EAClDW,aAAa,QAAS,+BAA+B,GAE1EC,OAAOC,iBAAiB,IAAIC,MAAM,oBAAoB,EAAG,CACzDC,MAAO,CACHC,IAAKC,OAAOC,SAASC,KACrBC,SAAU1B,SAAS0B,SACnBC,UAAWC,UAAUD,UACrBE,SAAU,UACVC,WAAYP,OAAOC,SAASC,KAC5BM,WAAY,MAChB,CACA,CAAC,CAED,CAaoC,CACxC,gBAEejC"}